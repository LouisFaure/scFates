{
    "body": "<div class=\"section\" id=\"scfates-tl-tree\">\n<h1>scFates.tl.tree<a class=\"headerlink\" href=\"#scfates-tl-tree\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<dl class=\"py function\">\n<dt id=\"scFates.tl.tree\">\n<code class=\"sig-prename descclassname\">scFates.tl.</code><code class=\"sig-name descname\">tree</code><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\">adata</span></em>, <em class=\"sig-param\"><span class=\"n\">Nodes</span><span class=\"o\">=</span><span class=\"default_value\">None</span></em>, <em class=\"sig-param\"><span class=\"n\">use_rep</span><span class=\"o\">=</span><span class=\"default_value\">None</span></em>, <em class=\"sig-param\"><span class=\"n\">ndims_rep</span><span class=\"o\">=</span><span class=\"default_value\">None</span></em>, <em class=\"sig-param\"><span class=\"n\">method</span><span class=\"o\">=</span><span class=\"default_value\">None</span></em>, <em class=\"sig-param\"><span class=\"n\">init</span><span class=\"o\">=</span><span class=\"default_value\">None</span></em>, <em class=\"sig-param\"><span class=\"n\">ppt_sigma</span><span class=\"o\">=</span><span class=\"default_value\">0.1</span></em>, <em class=\"sig-param\"><span class=\"n\">ppt_lambda</span><span class=\"o\">=</span><span class=\"default_value\">1</span></em>, <em class=\"sig-param\"><span class=\"n\">ppt_nsteps</span><span class=\"o\">=</span><span class=\"default_value\">50</span></em>, <em class=\"sig-param\"><span class=\"n\">ppt_err_cut</span><span class=\"o\">=</span><span class=\"default_value\">0.005</span></em>, <em class=\"sig-param\"><span class=\"n\">epg_lambda</span><span class=\"o\">=</span><span class=\"default_value\">0.01</span></em>, <em class=\"sig-param\"><span class=\"n\">epg_mu</span><span class=\"o\">=</span><span class=\"default_value\">0.1</span></em>, <em class=\"sig-param\"><span class=\"n\">epg_trimmingradius</span><span class=\"o\">=</span><span class=\"default_value\">inf</span></em>, <em class=\"sig-param\"><span class=\"n\">epg_initnodes</span><span class=\"o\">=</span><span class=\"default_value\">2</span></em>, <em class=\"sig-param\"><span class=\"n\">device</span><span class=\"o\">=</span><span class=\"default_value\">'cpu'</span></em>, <em class=\"sig-param\"><span class=\"n\">plot</span><span class=\"o\">=</span><span class=\"default_value\">False</span></em>, <em class=\"sig-param\"><span class=\"n\">basis</span><span class=\"o\">=</span><span class=\"default_value\">'umap'</span></em>, <em class=\"sig-param\"><span class=\"n\">seed</span><span class=\"o\">=</span><span class=\"default_value\">None</span></em>, <em class=\"sig-param\"><span class=\"n\">copy</span><span class=\"o\">=</span><span class=\"default_value\">False</span></em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#scFates.tl.tree\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Generate a principal tree.</p>\n<p>Learn a simplified representation on any space, compsed of nodes, approximating the\nposition of the cells on a given space such as gene expression, pca, diffusion maps, \u2026\nIf <cite>method==\u2019ppt\u2019</cite>, uses simpleppt implementation from [Soldatov19].\nIf <cite>method==\u2019epg\u2019</cite>, uses Elastic Principal Graph approach from [Albergante20]</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters</dt>\n<dd class=\"field-odd\"><dl class=\"simple\">\n<dt><strong>adata</strong> : <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">AnnData</span></code></dt><dd><p>Annotated data matrix.</p>\n</dd>\n<dt><strong>Nodes</strong> : <a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Optional\" title=\"(in Python v3.8)\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">Optional</span></code></a>[<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.8)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">int</span></code></a>]</dt><dd><p>Number of nodes composing the principial tree, use a range of 10 to 100 for\nElPiGraph approach and 100 to 2000 for PPT approach.</p>\n</dd>\n<dt><strong>use_rep</strong> : <a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Optional\" title=\"(in Python v3.8)\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">Optional</span></code></a>[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.8)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">str</span></code></a>]</dt><dd><p>Choose the space to be learned by the principal tree.</p>\n</dd>\n<dt><strong>ndims_rep</strong> : <a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Optional\" title=\"(in Python v3.8)\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">Optional</span></code></a>[<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.8)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">int</span></code></a>]</dt><dd><p>Number of dimensions to use for the inference.</p>\n</dd>\n<dt><strong>method</strong> : <a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Optional\" title=\"(in Python v3.8)\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">Optional</span></code></a>[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.8)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">str</span></code></a>]</dt><dd><p>If <cite>ppt</cite>, uses simpleppt approach, <cite>ppt_lambda</cite> and <cite>ppt_sigma</cite> are the\nparameters controlling the algorithm. If <cite>epg</cite>, uses ComputeElasticPrincipalTree\nfunction from elpigraph python package, <cite>epg_lambda</cite> <cite>epg_mu</cite> and <cite>epg_trimmingradius</cite>\nare the parameters controlling the algorithm.</p>\n</dd>\n<dt><strong>init</strong> : <a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Optional\" title=\"(in Python v3.8)\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">Optional</span></code></a>[<code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">DataFrame</span></code>]</dt><dd><p>Initialise the point positions.</p>\n</dd>\n<dt><strong>ppt_sigma</strong> : <a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Union\" title=\"(in Python v3.8)\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">Union</span></code></a>[<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#float\" title=\"(in Python v3.8)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">float</span></code></a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.8)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">int</span></code></a>, <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>]</dt><dd><p>Regularization parameter for simpleppt [Mao15].</p>\n</dd>\n<dt><strong>ppt_lambda</strong> : <a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Union\" title=\"(in Python v3.8)\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">Union</span></code></a>[<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#float\" title=\"(in Python v3.8)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">float</span></code></a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.8)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">int</span></code></a>, <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>]</dt><dd><p>Parameter for simpleppt, penalty for the tree length [Mao15].</p>\n</dd>\n<dt><strong>ppt_nsteps</strong> : <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.8)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">int</span></code></a></dt><dd><p>Number of steps for the optimisation process of simpleppt.</p>\n</dd>\n<dt><strong>ppt_err_cut</strong> : <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#float\" title=\"(in Python v3.8)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">float</span></code></a></dt><dd><p>Stop simpleppt algorithm if proximity of principal points between iterations less than defiend value.</p>\n</dd>\n<dt><strong>epg_lambda</strong> : <a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Union\" title=\"(in Python v3.8)\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">Union</span></code></a>[<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#float\" title=\"(in Python v3.8)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">float</span></code></a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.8)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">int</span></code></a>, <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>]</dt><dd><p>Parameter for ElPiGraph, coefficient of \u2018stretching\u2019 elasticity [Albergante20].</p>\n</dd>\n<dt><strong>epg_mu</strong> : <a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Union\" title=\"(in Python v3.8)\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">Union</span></code></a>[<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#float\" title=\"(in Python v3.8)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">float</span></code></a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.8)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">int</span></code></a>, <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>]</dt><dd><p>Parameter for ElPiGraph, coefficient of \u2018bending\u2019 elasticity [Albergante20].</p>\n</dd>\n<dt><strong>epg_trimmingradius</strong> : <a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Optional\" title=\"(in Python v3.8)\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">Optional</span></code></a></dt><dd><p>Parameter for ElPiGraph, trimming radius for MSE-based data approximation term [Albergante20].</p>\n</dd>\n<dt><strong>epg_initnodes</strong> : <a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Optional\" title=\"(in Python v3.8)\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">Optional</span></code></a>[<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.8)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">int</span></code></a>]</dt><dd><p>numerical 2D matrix, the k-by-m matrix with k m-dimensional positions of the nodes\nin the initial step</p>\n</dd>\n<dt><strong>device</strong> : <a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.8)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">str</span></code></a></dt><dd><p>Run either mehtod on <cite>cpu</cite> or on <cite>gpu</cite></p>\n</dd>\n<dt><strong>plot</strong> : <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.8)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">bool</span></code></a></dt><dd><p>Plot the resulting tree.</p>\n</dd>\n<dt><strong>basis</strong> : <a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Optional\" title=\"(in Python v3.8)\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">Optional</span></code></a>[<a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.8)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">str</span></code></a>]</dt><dd><p>Basis onto which the resulting tree should be projected.</p>\n</dd>\n<dt><strong>seed</strong> : <a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Optional\" title=\"(in Python v3.8)\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">Optional</span></code></a>[<a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.8)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">int</span></code></a>]</dt><dd><p>A numpy random seed.</p>\n</dd>\n<dt><strong>copy</strong> : <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.8)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">bool</span></code></a></dt><dd><p>Return a copy instead of writing to adata.</p>\n</dd>\n</dl>\n</dd>\n<dt class=\"field-even\">Returns</dt>\n<dd class=\"field-even\"><p><ul class=\"simple\">\n<li><p>Depending on <cite>copy</cite>, updates or returns <cite>adata</cite> with the following</p></li>\n<li><p><strong>**ppt</strong> or <strong>epg**</strong> (<em>dictionnary containing inferred tree (adata.uns)</em>)</p></li>\n<li><p><strong>**tree/B**</strong> (<em>adjacency matrix of the principal points (adata.uns)</em>)</p></li>\n<li><p><strong>**tree/R**</strong> (<em>soft assignment of cells to principal point in representation space (adata.uns)</em>)</p></li>\n<li><p><strong>**tree/F**</strong> (<em>coordinates of principal points in representation space (adata.uns)</em>)</p></li>\n</ul>\n</p>\n</dd>\n</dl>\n</dd></dl>\n\n</div>\n",
    "title": "scFates.tl.tree",
    "sourcename": "scFates.tl.tree.rst.txt",
    "current_page_name": "scFates.tl.tree",
    "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">scFates.tl.tree</a></li>\n</ul>\n",
    "page_source_suffix": ".rst"
}